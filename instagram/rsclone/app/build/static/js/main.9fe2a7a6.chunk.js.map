{"version":3,"sources":["components/Navbar.js","components/Footer.js","components/screens/Home.js","components/screens/Login.js","components/screens/Profile.js","components/screens/Signup.js","components/screens/NewPost.js","components/screens/OtherUsers.js","components/screens/Subscribes.js","components/reducers/userReducer.js","App.js","reportWebVitals.js","index.js"],"names":["NavBar","useContext","UserContext","state","dispatch","history","useHistory","className","to","id","onClick","localStorage","clear","type","push","Footer","href","Home","useState","data","setData","useEffect","fetch","headers","getItem","then","res","json","result","posts","map","item","postedBy","_id","name","postId","method","Authorization","newData","filter","src","photo","likes","includes","body","JSON","stringify","catch","err","console","log","length","title","comments","record","style","fontWeight","text","onSubmit","e","preventDefault","target","value","placeholder","Signin","password","setPassword","email","setEmail","onChange","test","error","M","toast","html","classes","setItem","token","user","payload","Profile","mypics","setPics","image","setImage","mypost","FormData","append","pic","url","display","justifyContent","margin","borderBottom","width","height","borderRadius","backgroundColor","file","files","followers","following","alt","Signup","setName","undefined","setUrl","uploadFields","PostData","uploadPic","NewPost","setTitle","setBody","maxWidth","textAlign","padding","postDetails","userProfile","setProfile","userid","useParams","showfollow","setShowFollow","followId","prevState","unfollowId","newFollower","reducer","action","createContext","Routing","parse","exact","path","OtherUsers","Subscribes","App","useReducer","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9fe2a7a6.chunk.js","sourcesContent":["import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport { UserContext } from '../App';\r\n\r\n\r\nconst NavBar = () => {\r\n\tconst { state, dispatch } = useContext(UserContext);\r\n\tconst history = useHistory();\r\n\tconst renderList = () => {\r\n\t\tif (state) {\r\n\t\t\treturn [\r\n\t\t\t\t<li><Link to=\"/profile\">Profile</Link></li>,\r\n\t\t\t\t<li><Link to=\"/create\">New Post</Link></li>,\r\n\t\t\t\t<li><Link to=\"/myfollowingpost\">My following Posts</Link></li>,\r\n\t\t\t\t<li><button className=\"btn waves-effect waves-light blue lighten-2\" onClick={() => {\r\n\t\t\t\t\tlocalStorage.clear()\r\n\t\t\t\t\tdispatch({ type: 'CLEAR' })\r\n\t\t\t\t\thistory.push('/signin')\r\n\t\t\t\t}}\r\n\t\t\t\t>Logout</button>\r\n\t\t\t\t</li>\r\n\t\t\t]\r\n\t\t} else {\r\n\t\t\treturn [\r\n\t\t\t\t<li><Link to=\"/signup\">Signup</Link></li>,\r\n\t\t\t\t<li><Link to=\"/signin\">Signin</Link></li>\r\n\t\t\t]\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<nav>\r\n\t\t\t<div className=\"nav-wrapper\">\r\n\t\t\t\t<Link to={state ? \"/\" : '/signin'} className=\"brand-logo left\">Instagram</Link>\r\n\t\t\t\t<ul id=\"\" className=\"right \">\r\n\t\t\t\t\t{renderList()}\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n\r\nexport default NavBar;","import React from 'react';\r\nimport '../App.css';\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<footer className=\"page-footer\">\r\n\t\t\t<div className=\"footer-copyright\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<p className=\"grey-text text-lighten-4 left\">Â© 2021 RS school</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<a className=\"grey-text text-lighten-4 right\" href=\"#!\">More Links</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t);\r\n}\r\n\r\nexport default Footer;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { UserContext } from '../../App';\r\nimport { Link } from 'react-router-dom';\r\nconst Home = () => {\r\n\r\n\tconst [data, setData] = useState([]);\r\n\tconst { state, dispatch } = useContext(UserContext);\r\n\tconst like = null;\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch('/allpost', {\r\n\t\t\theaders: {\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tsetData(result.posts);\r\n\t\t\t})\r\n\t}, []);\r\n\r\n\tconst likePost = (id) => {\r\n\t\tfetch('/like', {\r\n\t\t\tmethod: 'put',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tpostId: id\r\n\t\t\t})\r\n\t\t}).then(res => res.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tconst newData = data.map(item => {\r\n\t\t\t\t\tif (item._id == result._id) {\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetData(newData);\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst unlikePost = (id) => {\r\n\t\tfetch('/unlike', {\r\n\t\t\tmethod: 'put',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tpostId: id\r\n\t\t\t})\r\n\t\t}).then(res => res.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tconst newData = data.map(item => {\r\n\t\t\t\t\tif (item._id == result._id) {\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetData(newData);\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst makeComment = (text, postId) => {\r\n\t\tfetch('/comment', {\r\n\t\t\tmethod: 'put',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tpostId,\r\n\t\t\t\ttext\r\n\t\t\t})\r\n\t\t}).then(res => res.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\tconst newData = data.map(item => {\r\n\t\t\t\t\tif (item._id == result._id) {\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsetData(newData);\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst deletePost = (postId) => {\r\n\t\tfetch(`/deletepost/${postId}`, {\r\n\t\t\tmethod: 'delete',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tconst newData = data.filter(item => {\r\n\t\t\t\t\treturn item._id !== result._id;\r\n\t\t\t\t})\r\n\t\t\t\tsetData(newData)\r\n\t\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='home'>\r\n\t\t\t{\r\n\t\t\t\tdata.map(item => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className='card home-card' key={item._id}>\r\n\t\t\t\t\t\t\t<h5><Link to={item.postedBy._id !== state._id ? `/profile/${item.postedBy._id}` : `/profile/`}>{item.postedBy.name}</Link>\r\n\t\t\t\t\t\t\t\t{item.postedBy._id === state._id &&\r\n\t\t\t\t\t\t\t\t\t<i className='material-icons' onClick={() => { deletePost(item._id) }}>clear</i>}\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<div className='card-image'>\r\n\t\t\t\t\t\t\t\t<img src={item.photo} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-content'>\r\n\t\t\t\t\t\t\t\t<i className=\"material-icons\">favorite</i>\r\n\t\t\t\t\t\t\t\t{item.likes.includes(state ? state._id : null)\r\n\t\t\t\t\t\t\t\t\t? <i className=\"material-icons\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\treturn (state ? unlikePost(item._id) : null)\r\n\t\t\t\t\t\t\t\t\t}}>thumb_down</i>\r\n\t\t\t\t\t\t\t\t\t: <i className=\"material-icons\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\treturn (state ? likePost(item._id) : null)\r\n\t\t\t\t\t\t\t\t\t}}>thumb_up</i>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<h6>{item.likes.length} likes</h6>\r\n\t\t\t\t\t\t\t\t<h6>{item.title}</h6>\r\n\t\t\t\t\t\t\t\t<p>{item.body}</p>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\titem.comments.map(record => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 key={record._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontWeight: '500' }}>{record.postedBy.name}</span> {record.text}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<form onSubmit={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tmakeComment(e.target[0].value, item._id)\r\n\t\t\t\t\t\t\t\t}}>\r\n\r\n\t\t\t\t\t\t\t\t\t<input type='text' placeholder='add a comment' />\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</div >\r\n\t);\r\n}\r\n\r\nexport default Home;","import React, { useState, useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { UserContext } from '../../App';\r\nimport M from 'materialize-css';\r\n\r\nconst Signin = () => {\r\n\tconst { state, dispatch } = useContext(UserContext);\r\n\tconst history = useHistory();\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst PostData = () => {\r\n\t\tif (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\r\n\t\t\tM.toast({ html: 'invalid email', classes: 'red darken-3' });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfetch('/signin', {\r\n\t\t\tmethod: 'post',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tpassword,\r\n\t\t\t\temail\r\n\t\t\t})\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tconsole.log(data)\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tM.toast({ html: 'data.error', classes: 'red darken-3' });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlocalStorage.setItem('jwt', data.token);\r\n\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify(data.user));\r\n\t\t\t\t\tdispatch({ type: 'USER', payload: data.user })\r\n\t\t\t\t\tM.toast({ html: 'signedin success', classes: 'green darken-1' });\r\n\t\t\t\t\thistory.push('/');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\treturn (\r\n\t\t<div className='mycard'>\r\n\t\t\t<div className=\"card auth-card input-field\">\r\n\t\t\t\t<h2>Instagram</h2>\r\n\t\t\t\t<input type='text' placeholder='email' value={email} onChange={(e) => setEmail(e.target.value)} />\r\n\t\t\t\t<input type='password' placeholder='password' value={password} onChange={(e) => setPassword(e.target.value)} />\r\n\t\t\t\t<button className=\"btn waves-effect waves-light blue lighten-2\" onClick={() => PostData()}>\r\n\t\t\t\t\tLogin\r\n\t\t\t\t</button>\r\n\t\t\t\t<h6>\r\n\t\t\t\t\t<Link to='/signup'>Dont have an account ?</Link>\r\n\t\t\t\t</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Signin;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { UserContext } from '../../App';\r\n\r\nconst Profile = () => {\r\n\tconst [mypics, setPics] = useState([]);\r\n\tconst { state, dispatch } = useContext(UserContext);\r\n\tconst [image, setImage] = useState('');\r\n\r\n\tconsole.log(state);\r\n\tuseEffect(() => {\r\n\t\tfetch('/mypost', {\r\n\t\t\theaders: {\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetPics(res.mypost);\r\n\t\t\t})\r\n\r\n\t}, [])\r\n\tuseEffect(() => {\r\n\t\tif (image) {\r\n\t\t\tconst data = new FormData();\r\n\t\t\tdata.append('file', image);\r\n\t\t\tdata.append('upload_preset', 'rsclone');\r\n\t\t\tdata.append('cloud_name', 'dqzybcpps');\r\n\r\n\t\t\tfetch('\thttps://api.cloudinary.com/v1_1/dqzybcpps/image/upload', {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\tbody: data\r\n\t\t\t})\r\n\t\t\t\t.then(res => res.json())\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tfetch('/updatepic', {\r\n\t\t\t\t\t\tmethod: 'put',\r\n\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\t\t\tpic: data.url\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t}).then(res => res.json())\r\n\t\t\t\t\t\t.then(result => {\r\n\t\t\t\t\t\t\tconsole.log(result);\r\n\t\t\t\t\t\t\tlocalStorage.setItem('user', JSON.stringify({ ...state, pic: result.pic }));\r\n\t\t\t\t\t\t\tdispatch({ type: 'UPDATEPIC', payload: result.pic });\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\r\n\t\t}\r\n\t}, [image]);\r\n\tconst updatePhoto = (file) => {\r\n\t\tsetImage(file);\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div style={{ display: 'flex', justifyContent: 'space-around', margin: '20px 0 ', borderBottom: '1px solid black' }}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<img style={{ width: '150px', height: '150px', borderRadius: '50%', backgroundColor: 'red' }} src={state ? state.pic : 'loading'} />\r\n\t\t\t\t\t<div className=\"file-field input-field\">\r\n\t\t\t\t\t\t<div className=\"btn\">\r\n\t\t\t\t\t\t\t<span>Update Image</span>\r\n\t\t\t\t\t\t\t<input type=\"file\" onChange={(e) => updatePhoto(e.target.files[0])} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"file-path-wrapper\">\r\n\t\t\t\t\t\t\t<input className=\"file-path validate\" type=\"text\" placeholder=\"Upload one or more files\" />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\r\n\t\t\t\t\t<h4>{state ? state.name : 'loading'}</h4>\r\n\t\t\t\t\t<h5>{state ? state.email : 'loading'}</h5>\r\n\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between', width: '110%' }}>\r\n\t\t\t\t\t\t<h6>{mypics.length} posts</h6>\r\n\t\t\t\t\t\t<h6>{state ? state.followers.length : '0'} followers</h6>\r\n\t\t\t\t\t\t<h6>{state ? state.following.length : '0'} following</h6>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='gallery'>\r\n\t\t\t\t{\r\n\t\t\t\t\tmypics.map(item => {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<img className='gallery__item' src={item.photo} alt={item.title} key={item._id} />\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div >\r\n\t);\r\n}\r\n\r\nexport default Profile;","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\n\r\nconst Signup = () => {\r\n\tconst history = useHistory();\r\n\tconst [name, setName] = useState('');\r\n\tconst [password, setPassword] = useState('');\r\n\tconst [email, setEmail] = useState('');\r\n\tconst [image, setImage] = useState('');\r\n\tconst [url, setUrl] = useState(undefined);\r\n\tuseEffect(() => {\r\n\t\tif (url) {\r\n\t\t\tuploadFields()\r\n\t\t}\r\n\t}, [url]);\r\n\r\n\tconst uploadPic = () => {\r\n\t\tconst data = new FormData();\r\n\t\tdata.append('file', image);\r\n\t\tdata.append('upload_preset', 'rsclone');\r\n\t\tdata.append('cloud_name', 'dqzybcpps');\r\n\r\n\t\tfetch('\thttps://api.cloudinary.com/v1_1/dqzybcpps/image/upload', {\r\n\t\t\tmethod: 'post',\r\n\t\t\tbody: data\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tsetUrl(data.url);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\tconst uploadFields = () => {\r\n\t\tif (!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)) {\r\n\t\t\tM.toast({ html: 'invalid email', classes: 'red darken-3' });\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfetch('/signup', {\r\n\t\t\tmethod: 'post',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname,\r\n\t\t\t\tpassword,\r\n\t\t\t\temail,\r\n\t\t\t\tpic: url\r\n\t\t\t})\r\n\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tif (data.error) {\r\n\t\t\t\t\tM.toast({ html: 'data.error', classes: 'red darken-3' });\r\n\t\t\t\t} else {\r\n\t\t\t\t\tM.toast({ html: 'data.message', classes: 'green darken-1' });\r\n\t\t\t\t\thistory.push('/signin');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t})\r\n\t};\r\n\r\n\tconst PostData = () => {\r\n\t\tif (image) {\r\n\t\t\tuploadPic();\r\n\t\t} else {\r\n\t\t\tuploadFields();\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='mycard'>\r\n\t\t\t<div className=\"card auth-card input-field\">\r\n\t\t\t\t<h2>Instagram</h2>\r\n\t\t\t\t<input type='text' placeholder='name' value={name} onChange={(e) => setName(e.target.value)} />\r\n\t\t\t\t<input type='text' placeholder='email' value={email} onChange={(e) => setEmail(e.target.value)} />\r\n\t\t\t\t<input type='password' placeholder='password' value={password} onChange={(e) => setPassword(e.target.value)} />\r\n\t\t\t\t<div className=\"file-field input-field\">\r\n\t\t\t\t\t<div className=\"btn\">\r\n\t\t\t\t\t\t<span>Upload Image</span>\r\n\t\t\t\t\t\t<input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"file-path-wrapper\">\r\n\t\t\t\t\t\t<input className=\"file-path validate\" type=\"text\" placeholder=\"Upload one or more files\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button className=\"btn waves-effect waves-light blue lighten-2\" onClick={() => PostData()}>\r\n\t\t\t\t\tSignUp\r\n\t\t\t</button>\r\n\t\t\t\t<h6>\r\n\t\t\t\t\t<Link to='/signin'>Already have an account ?</Link>\r\n\t\t\t\t</h6>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Signup;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst NewPost = () => {\r\n\tconst history = useHistory();\r\n\tconst [title, setTitle] = useState('');\r\n\tconst [body, setBody] = useState('');\r\n\tconst [image, setImage] = useState('');\r\n\tconst [url, setUrl] = useState('');\r\n\tuseEffect(() => {\r\n\t\tif (url) {\r\n\t\t\tfetch('/createpost', {\r\n\t\t\t\tmethod: 'post',\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t\t},\r\n\t\t\t\tbody: JSON.stringify({\r\n\t\t\t\t\ttitle,\r\n\t\t\t\t\tbody,\r\n\t\t\t\t\tpic: url\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t\t.then(res => res.json())\r\n\t\t\t\t.then(data => {\r\n\t\t\t\t\tif (data.error) {\r\n\t\t\t\t\t\tM.toast({ html: 'data.error', classes: 'red darken-3' });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tM.toast({ html: 'Created post Successfully', classes: 'green darken-1' });\r\n\t\t\t\t\t\thistory.push('/');\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t});\r\n\t\t}\r\n\t}, [url])\r\n\r\n\tconst postDetails = () => {\r\n\t\tconst data = new FormData();\r\n\t\tdata.append('file', image);\r\n\t\tdata.append('upload_preset', 'rsclone');\r\n\t\tdata.append('cloud_name', 'dqzybcpps');\r\n\r\n\t\tfetch('\thttps://api.cloudinary.com/v1_1/dqzybcpps/image/upload', {\r\n\t\t\tmethod: 'post',\r\n\t\t\tbody: data\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tsetUrl(data.url);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='card input-filed' style={{ margin: '10px auto', maxWidth: '500px', textAlign: 'center', padding: '30px' }}>\r\n\t\t\t<input type='text' placeholder='title' value={title} onChange={(e) => setTitle(e.target.value)} />\r\n\t\t\t<input type='text' placeholder='body' value={body} onChange={(e) => setBody(e.target.value)} />\r\n\t\t\t<div className=\"file-field input-field\">\r\n\t\t\t\t<div className=\"btn\">\r\n\t\t\t\t\t<span>Upload Image</span>\r\n\t\t\t\t\t<input type=\"file\" onChange={(e) => setImage(e.target.files[0])} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"file-path-wrapper\">\r\n\t\t\t\t\t<input className=\"file-path validate\" type=\"text\" placeholder=\"Upload one or more files\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<button className=\"btn waves-effect waves-light blue lighten-2\" onClick={() => postDetails()}>\r\n\t\t\t\tSubmit post\r\n\t\t\t\t</button>\r\n\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default NewPost;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { UserContext } from '../../App';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nconst Profile = () => {\r\n\tconst [userProfile, setProfile] = useState(null);\r\n\tconst { state, dispatch } = useContext(UserContext);\r\n\tconst { userid } = useParams();\r\n\tconst [showfollow, setShowFollow] = useState(state ? !state.following.includes(userid) : true);\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch(`/user/${userid}`, {\r\n\t\t\theaders: {\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(res => {\r\n\t\t\t\tsetProfile(res);\r\n\r\n\t\t\t})\r\n\r\n\t}, []);\r\n\r\n\tconst followUser = () => {\r\n\t\tfetch('/follow', {\r\n\t\t\tmethod: 'put',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tfollowId: userid\r\n\t\t\t})\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tdispatch({ type: 'UPDATE', payload: { following: data.following, followers: data.followers } });\r\n\t\t\t\tlocalStorage.setItem('user', JSON.stringify(data));\r\n\t\t\t\tsetProfile((prevState) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\tuser: {\r\n\t\t\t\t\t\t\t...prevState.user,\r\n\t\t\t\t\t\t\tfollowers: [...prevState.user.followers, data._id]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t\tsetShowFollow(false);\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\r\n\tconst unfollowUser = () => {\r\n\t\tfetch('/unfollow', {\r\n\t\t\tmethod: 'put',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tunfollowId: userid\r\n\t\t\t})\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(data => {\r\n\t\t\t\tdispatch({ type: 'UPDATE', payload: { following: data.following, followers: data.followers } });\r\n\t\t\t\tlocalStorage.setItem('user', JSON.stringify(data));\r\n\t\t\t\tsetProfile((prevState) => {\r\n\t\t\t\t\tconst newFollower = prevState.user.followers.filter(item => item != data._id);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\tuser: {\r\n\t\t\t\t\t\t\t...prevState.user,\r\n\t\t\t\t\t\t\tfollowers: newFollower\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t\tsetShowFollow(true);\r\n\t\t\t});\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{userProfile ?\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-around', margin: '20px 0 ', borderBottom: '1px solid black' }}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<img style={{ width: '150px', height: '150px', borderRadius: '50%', backgroundColor: 'red' }} src={userProfile.user.pic} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div>\r\n\r\n\t\t\t\t\t\t\t<h4>{userProfile.user.name}</h4>\r\n\t\t\t\t\t\t\t<h5>{userProfile.user.email}</h5>\r\n\t\t\t\t\t\t\t<div style={{ display: 'flex', justifyContent: 'space-between', width: '110%' }}>\r\n\t\t\t\t\t\t\t\t<h6>{userProfile.posts.length} posts</h6>\r\n\t\t\t\t\t\t\t\t<h6>{userProfile.user.followers.length} followers</h6>\r\n\t\t\t\t\t\t\t\t<h6>{userProfile.user.following.length} following</h6>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{showfollow ?\r\n\t\t\t\t\t\t\t\t<button className=\"btn waves-effect waves-light blue lighten-2\" onClick={() => followUser()}>Follow</button>\r\n\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t<button className=\"btn waves-effect waves-light blue lighten-2\" onClick={() => unfollowUser()}>unFollow</button>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='gallery'>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tuserProfile.posts.map(item => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<img className='gallery__item' src={item.photo} alt={item.title} key={item._id} />\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t: <h2>Loading!!!</h2>}\r\n\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Profile;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { UserContext } from '../../App';\r\nimport { Link } from 'react-router-dom';\r\nconst Home = () => {\r\n\r\n\tconst [data, setData] = useState([]);\r\n\tconst { state, dispatch } = useContext(UserContext);\r\n\tconst like = null;\r\n\r\n\tuseEffect(() => {\r\n\t\tfetch('/getsubpost', {\r\n\t\t\theaders: {\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tsetData(result.posts);\r\n\t\t\t})\r\n\t}, []);\r\n\r\n\tconst likePost = (id) => {\r\n\t\tfetch('/like', {\r\n\t\t\tmethod: 'put',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tpostId: id\r\n\t\t\t})\r\n\t\t}).then(res => res.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tconst newData = data.map(item => {\r\n\t\t\t\t\tif (item._id == result._id) {\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetData(newData);\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst unlikePost = (id) => {\r\n\t\tfetch('/unlike', {\r\n\t\t\tmethod: 'put',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tpostId: id\r\n\t\t\t})\r\n\t\t}).then(res => res.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tconst newData = data.map(item => {\r\n\t\t\t\t\tif (item._id == result._id) {\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tsetData(newData);\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst makeComment = (text, postId) => {\r\n\t\tfetch('/comment', {\r\n\t\t\tmethod: 'put',\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t\t'Authorization': 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tpostId,\r\n\t\t\t\ttext\r\n\t\t\t})\r\n\t\t}).then(res => res.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tconsole.log(result);\r\n\t\t\t\tconst newData = data.map(item => {\r\n\t\t\t\t\tif (item._id == result._id) {\r\n\t\t\t\t\t\treturn result;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsetData(newData);\r\n\t\t\t}).catch(err => {\r\n\t\t\t\tconsole.log(err);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst deletePost = (postId) => {\r\n\t\tfetch(`/deletepost/${postId}`, {\r\n\t\t\tmethod: 'delete',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + localStorage.getItem('jwt')\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => res.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tconst newData = data.filter(item => {\r\n\t\t\t\t\treturn item._id !== result._id;\r\n\t\t\t\t})\r\n\t\t\t\tsetData(newData)\r\n\t\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='home'>\r\n\t\t\t{\r\n\t\t\t\tdata.map(item => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div className='card home-card' key={item._id}>\r\n\t\t\t\t\t\t\t<h5><Link to={item.postedBy._id !== state._id ? `/profile/${item.postedBy._id}` : `/profile/`}>{item.postedBy.name}</Link>\r\n\t\t\t\t\t\t\t\t{item.postedBy._id === state._id &&\r\n\t\t\t\t\t\t\t\t\t<i className='material-icons' onClick={() => { deletePost(item._id) }}>clear</i>}\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<div className='card-image'>\r\n\t\t\t\t\t\t\t\t<img src={item.photo} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-content'>\r\n\t\t\t\t\t\t\t\t<i className=\"material-icons\">favorite</i>\r\n\t\t\t\t\t\t\t\t{item.likes.includes(state ? state._id : null)\r\n\t\t\t\t\t\t\t\t\t? <i className=\"material-icons\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\treturn (state ? unlikePost(item._id) : null)\r\n\t\t\t\t\t\t\t\t\t}}>thumb_down</i>\r\n\t\t\t\t\t\t\t\t\t: <i className=\"material-icons\" onClick={() => {\r\n\t\t\t\t\t\t\t\t\t\treturn (state ? likePost(item._id) : null)\r\n\t\t\t\t\t\t\t\t\t}}>thumb_up</i>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<h6>{item.likes.length} likes</h6>\r\n\t\t\t\t\t\t\t\t<h6>{item.title}</h6>\r\n\t\t\t\t\t\t\t\t<p>{item.body}</p>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\titem.comments.map(record => {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<h6 key={record._id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ fontWeight: '500' }}>{record.postedBy.name}</span> {record.text}\r\n\t\t\t\t\t\t\t\t\t\t\t</h6>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t<form onSubmit={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tmakeComment(e.target[0].value, item._id)\r\n\t\t\t\t\t\t\t\t}}>\r\n\r\n\t\t\t\t\t\t\t\t\t<input type='text' placeholder='add a comment' />\r\n\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</div >\r\n\t);\r\n}\r\n\r\nexport default Home;","export const initialState = null;\r\n\r\nexport const reducer = (state, action) => {\r\n\tif (action.type == 'USER') {\r\n\t\treturn action.payload;\r\n\t}\r\n\tif (action.type == 'CLEAR') {\r\n\t\treturn null;\r\n\t}\r\n\tif (action.type == 'UPDATE') {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tfollowers: action.payload.followers,\r\n\t\t\tfollowing: action.payload.following\r\n\t\t}\r\n\t}\r\n\tif (action.type == 'UPDATEPIC') {\r\n\t\treturn {\r\n\t\t\t...state,\r\n\t\t\tpic: action.payload\r\n\t\t}\r\n\t}\r\n\treturn state;\r\n}\r\n\r\n","import './App.css';\nimport { BrowserRouter, Route, Switch, useHistory } from 'react-router-dom';\nimport { useEffect, createContext, useReducer, useContext } from 'react';\n\nimport NavBar from './components/Navbar';\nimport Footer from './components/Footer';\nimport Home from './components/screens/Home';\nimport Signin from './components/screens/Login';\nimport Profile from './components/screens/Profile';\nimport Signup from './components/screens/Signup';\nimport NewPost from './components/screens/NewPost';\nimport OtherUsers from './components/screens/OtherUsers';\nimport Subscribes from './components/screens/Subscribes';\nimport { reducer, initialState } from './components/reducers/userReducer';\n\nexport const UserContext = createContext();\nconst Routing = () => {\n\tconst history = useHistory();\n\tconst { state, dispatch } = useContext(UserContext);\n\tuseEffect(() => {\n\t\tconst user = JSON.parse(localStorage.getItem('user'));\n\t\tif (user) {\n\t\t\tdispatch({ user: 'USER', payload: user });\n\n\t\t} else {\n\t\t\thistory.push('/signin');\n\t\t}\n\t}, [])\n\treturn (\n\t\t<Switch>\n\t\t\t<Route exact path='/'>\n\t\t\t\t<Home />\n\t\t\t</Route>\n\t\t\t<Route path='/signin'>\n\t\t\t\t<Signin />\n\t\t\t</Route>\n\t\t\t<Route exact path='/profile'>\n\t\t\t\t<Profile />\n\t\t\t</Route>\n\t\t\t<Route path='/signup'>\n\t\t\t\t<Signup />\n\t\t\t</Route>\n\t\t\t<Route path='/create'>\n\t\t\t\t<NewPost />\n\t\t\t</Route>\n\t\t\t<Route path='/profile/:userid'>\n\t\t\t\t<OtherUsers />\n\t\t\t</Route>\n\t\t\t<Route path='/myfollowingpost'>\n\t\t\t\t<Subscribes />\n\t\t\t</Route>\n\t\t</Switch>\n\t)\n}\n\nfunction App() {\n\tconst [state, dispatch] = useReducer(reducer, initialState);\n\treturn (\n\t\t<UserContext.Provider value={{ state, dispatch }}>\n\t\t\t<BrowserRouter>\n\t\t\t\t<NavBar />\n\t\t\t\t<Routing />\n\t\t\t\t<Footer />\n\t\t\t</BrowserRouter>\n\t\t</UserContext.Provider>\n\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}